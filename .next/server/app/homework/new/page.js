(()=>{var e={};e.id=984,e.ids=[984],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68240:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/gerardo/Downloads/Copia de Bonsai 2/app/components/homework/HomeworkForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/gerardo/Downloads/Copia de Bonsai 2/app/components/homework/HomeworkForm.tsx","default")},69869:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(65239),i=s(48088),a=s(88170),n=s.n(a),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d={children:["",{children:["homework",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,75507)),"/Users/gerardo/Downloads/Copia de Bonsai 2/app/homework/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/gerardo/Downloads/Copia de Bonsai 2/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/gerardo/Downloads/Copia de Bonsai 2/app/homework/new/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/homework/new/page",pathname:"/homework/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},71226:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var r=s(60687),i=s(43210),a=s(16189),n=s(27605),l=s(45880),o=s(63442),d=s(80084);let c=l.z.object({title:l.z.string().min(3,"Title must be at least 3 characters"),description:l.z.string().min(10,"Description must be at least 10 characters"),examType:l.z.enum(["SAT","ACT","GRE","GMAT","Other"]),subject:l.z.string().min(2,"Subject must be at least 2 characters"),questions:l.z.array(l.z.object({type:l.z.enum(["multiple_choice","short_answer","essay"]),question:l.z.string().min(3,"Question must be at least 3 characters"),options:l.z.array(l.z.string()).optional(),answer:l.z.string().min(1,"Answer is required")})).min(1,"At least one question is required"),attachments:l.z.array(l.z.any()).optional()});function m(){let e=(0,a.useRouter)(),[t,s]=(0,i.useState)(!1),[l,m]=(0,i.useState)(null),[x,u]=(0,i.useState)([]),{register:p,handleSubmit:h,control:b,watch:j,formState:{errors:y}}=(0,n.mN)({resolver:(0,o.u)(c),defaultValues:{title:"",description:"",examType:"SAT",subject:"",questions:[{type:"multiple_choice",question:"",options:["","","",""],answer:""}],attachments:[]}}),{fields:g,append:f,remove:v}=(0,n.jz)({control:b,name:"questions"}),k=j("questions"),w=e=>{u(t=>t.filter((t,s)=>s!==e))},N=async t=>{s(!0),m(null);try{let s=[];if(x.length>0)for(let e of x){let t=`${Date.now()}-${e.name}`,{data:r,error:i}=await d.N.storage.from("homework-attachments").upload(t,e);if(i)throw Error(`Error uploading file: ${i.message}`);let{data:a}=d.N.storage.from("homework-attachments").getPublicUrl(t);s.push(a.publicUrl)}let{data:{user:r}}=await d.N.auth.getUser();if(!r)throw Error("User not authenticated");let{error:i}=await d.N.from("homework_submissions").insert({user_id:r.id,title:t.title,description:t.description,exam_type:t.examType,subject:t.subject,content:{questions:t.questions},attachments:s,submitted_at:new Date().toISOString(),status:"submitted"});if(i)throw i;e.push("/homework"),e.refresh()}catch(e){m(e.message||"An error occurred while submitting homework")}finally{s(!1)}};return(0,r.jsxs)("form",{onSubmit:h(N),className:"space-y-8",children:[l&&(0,r.jsx)("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-800 dark:text-red-200 p-4 rounded-md",children:l}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("input",{id:"title",type:"text",className:"input-field",disabled:t,...p("title")}),y.title&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.title.message})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"examType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Exam Type"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsxs)("select",{id:"examType",className:"input-field",disabled:t,...p("examType"),children:[(0,r.jsx)("option",{value:"SAT",children:"SAT"}),(0,r.jsx)("option",{value:"ACT",children:"ACT"}),(0,r.jsx)("option",{value:"GRE",children:"GRE"}),(0,r.jsx)("option",{value:"GMAT",children:"GMAT"}),(0,r.jsx)("option",{value:"Other",children:"Other"})]}),y.examType&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.examType.message})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Subject"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("input",{id:"subject",type:"text",className:"input-field",disabled:t,placeholder:"e.g., Mathematics, Reading, Science",...p("subject")}),y.subject&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.subject.message})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("textarea",{id:"description",rows:3,className:"input-field",disabled:t,placeholder:"Briefly describe what you're working on and what you need help with",...p("description")}),y.description&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.description.message})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Questions"}),(0,r.jsx)("button",{type:"button",onClick:()=>f({type:"multiple_choice",question:"",options:["","","",""],answer:""}),className:"btn-secondary text-sm py-1",disabled:t,children:"Add Question"})]}),y.questions&&y.questions.root&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.questions.root.message}),(0,r.jsx)("div",{className:"mt-4 space-y-6",children:g.map((e,s)=>(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h4",{className:"text-md font-medium text-gray-900 dark:text-white",children:["Question ",s+1]}),g.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>v(s),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",disabled:t,children:"Remove"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Question Type"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsxs)("select",{className:"input-field",disabled:t,...p(`questions.${s}.type`),children:[(0,r.jsx)("option",{value:"multiple_choice",children:"Multiple Choice"}),(0,r.jsx)("option",{value:"short_answer",children:"Short Answer"}),(0,r.jsx)("option",{value:"essay",children:"Essay"})]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Question"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("textarea",{rows:2,className:"input-field",disabled:t,...p(`questions.${s}.question`)}),y.questions?.[s]?.question&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.questions[s]?.question?.message})]})]}),k[s]?.type==="multiple_choice"&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Options"}),(0,r.jsx)("div",{className:"mt-1 space-y-2",children:[0,1,2,3].map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("span",{className:"mr-2 text-gray-500 dark:text-gray-400",children:[String.fromCharCode(65+e),"."]}),(0,r.jsx)("input",{type:"text",className:"input-field",disabled:t,...p(`questions.${s}.options.${e}`)})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Your Answer"}),(0,r.jsxs)("div",{className:"mt-1",children:[k[s]?.type==="multiple_choice"?(0,r.jsxs)("select",{className:"input-field",disabled:t,...p(`questions.${s}.answer`),children:[(0,r.jsx)("option",{value:"",children:"Select an answer"}),(0,r.jsx)("option",{value:"A",children:"A"}),(0,r.jsx)("option",{value:"B",children:"B"}),(0,r.jsx)("option",{value:"C",children:"C"}),(0,r.jsx)("option",{value:"D",children:"D"})]}):k[s]?.type==="short_answer"?(0,r.jsx)("input",{type:"text",className:"input-field",disabled:t,...p(`questions.${s}.answer`)}):(0,r.jsx)("textarea",{rows:4,className:"input-field",disabled:t,...p(`questions.${s}.answer`)}),y.questions?.[s]?.answer&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.questions[s]?.answer?.message})]})]})]})]},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Attachments (Optional)"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("input",{type:"file",multiple:!0,onChange:e=>{if(e.target.files){let t=Array.from(e.target.files);u(e=>[...e,...t])}},className:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 dark:file:bg-primary-900 dark:file:text-primary-300 hover:file:bg-primary-100 dark:hover:file:bg-primary-800",disabled:t}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Upload any relevant files (images, PDFs, etc.)"})]}),x.length>0&&(0,r.jsx)("div",{className:"mt-2 space-y-2",children:x.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 p-2 rounded-md",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:[e.name," (",(e.size/1024).toFixed(1)," KB)"]}),(0,r.jsx)("button",{type:"button",onClick:()=>w(s),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",disabled:t,children:"Remove"})]},s))})]}),(0,r.jsx)("div",{className:"pt-5",children:(0,r.jsxs)("div",{className:"flex justify-end",children:[(0,r.jsx)("button",{type:"button",onClick:()=>e.back(),className:"btn-secondary mr-3",disabled:t,children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"btn-primary",disabled:t,children:t?"Submitting...":"Submit Homework"})]})})]})}},74075:e=>{"use strict";e.exports=require("zlib")},75507:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(37413),i=s(56183),a=s(68240);function n(){return(0,r.jsx)(i.default,{children:(0,r.jsxs)("div",{className:"py-6",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Submit Homework"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Submit your homework to receive personalized video lessons based on AI analysis."})]}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 mt-6",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:(0,r.jsx)(a.default,{})})})]})})}},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},87446:(e,t,s)=>{Promise.resolve().then(s.bind(s,68240)),Promise.resolve().then(s.bind(s,56183))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},99070:(e,t,s)=>{Promise.resolve().then(s.bind(s,71226)),Promise.resolve().then(s.bind(s,2937))}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[754,468,380,486,770],()=>s(69869));module.exports=r})();