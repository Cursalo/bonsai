(()=>{var e={};e.id=626,e.ids=[626],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},36589:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>d.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>l});var s=r(65239),a=r(48088),i=r(88170),d=r.n(i),n=r(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let l={children:["",{children:["subscription",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,87457)),"/Users/gerardo/Downloads/Copia de Bonsai 2/app/subscription/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/gerardo/Downloads/Copia de Bonsai 2/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/gerardo/Downloads/Copia de Bonsai 2/app/subscription/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/subscription/page",pathname:"/subscription",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},53192:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(60687),a=r(43210),i=r(80084);function d(){let[e,t]=(0,a.useState)(null),[r,d]=(0,a.useState)(!1),[n,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),u=[{id:1,name:"Basic",credits:10,price:15},{id:2,name:"Standard",credits:25,price:30,popular:!0},{id:3,name:"Premium",credits:50,price:50}],x=e=>{t(e),o(null),c(null)},p=async()=>{if(!e){o("Please select a credit package");return}d(!0),o(null),c(null);try{let{data:{user:t}}=await i.N.auth.getUser();if(!t)throw Error("User not authenticated");let r=u.find(t=>t.id===e);if(!r)throw Error("Invalid package selected");let{data:s,error:a}=await i.N.from("subscriptions").update({video_credits_remaining:i.N.rpc("increment_credits",{credit_amount:r.credits})}).eq("user_id",t.id).select();if(a)throw a;c(`Successfully purchased ${r.credits} video credits!`)}catch(e){o(e.message||"Failed to process purchase")}finally{d(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:u.map(t=>(0,s.jsxs)("div",{className:`relative border rounded-lg p-4 transition-all ${e===t.id?"border-blue-500 ring-2 ring-blue-200 dark:ring-blue-800":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>x(t.id),children:[t.popular&&(0,s.jsx)("span",{className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Popular"}),(0,s.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-white",children:[t.name," Package"]}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:["$",t.price]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[t.credits," video credits"]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:["$",(t.price/t.credits).toFixed(2)," per credit"]})]},t.id))}),n&&(0,s.jsx)("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-800 dark:text-red-200 p-3 rounded-md text-sm",children:n}),l&&(0,s.jsx)("div",{className:"bg-green-50 dark:bg-green-900/30 text-green-800 dark:text-green-200 p-3 rounded-md text-sm",children:l}),(0,s.jsx)("button",{className:`w-full btn-primary ${r?"opacity-70 cursor-not-allowed":""}`,onClick:p,disabled:r||!e,children:r?"Processing...":"Purchase Credits"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Secure payment processing. Credits are added immediately to your account."})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64458:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(60687),a=r(43210);function i(){let[e,t]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0),[d,n]=(0,a.useState)(null),o=e=>{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(t)};return r?(0,s.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"}),(0,s.jsx)("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded"}),(0,s.jsx)("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded"}),(0,s.jsx)("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded"})]}):d?(0,s.jsx)("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-800 dark:text-red-200 p-4 rounded-md",children:d}):e?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Monthly Plan"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"$50/month for up to 50 video lessons"})]}),(0,s.jsx)("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${(e=>{switch(e){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"canceled":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"past_due":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}})(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:(0,s.jsxs)("dl",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[(0,s.jsxs)("div",{className:"py-3 flex justify-between",children:[(0,s.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Video credits remaining"}),(0,s.jsx)("dd",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.video_credits_remaining})]}),(0,s.jsxs)("div",{className:"py-3 flex justify-between",children:[(0,s.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Started on"}),(0,s.jsx)("dd",{className:"text-sm text-gray-900 dark:text-white",children:o(e.started_at)})]}),(0,s.jsxs)("div",{className:"py-3 flex justify-between",children:[(0,s.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Renews on"}),(0,s.jsx)("dd",{className:"text-sm text-gray-900 dark:text-white",children:o(e.expires_at)})]})]})}),(0,s.jsxs)("div",{className:"pt-4 flex space-x-3",children:[(0,s.jsx)("button",{className:"btn-secondary text-sm",children:"Manage Billing"}),"active"===e.status&&(0,s.jsx)("button",{className:"text-sm text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Cancel Subscription"})]})]}):(0,s.jsxs)("div",{className:"text-center py-6",children:[(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"You don't have an active subscription."}),(0,s.jsx)("button",{className:"btn-primary",children:"Subscribe Now"})]})}r(80084)},71665:(e,t,r)=>{Promise.resolve().then(r.bind(r,56183)),Promise.resolve().then(r.bind(r,95386)),Promise.resolve().then(r.bind(r,89960))},74075:e=>{"use strict";e.exports=require("zlib")},78289:(e,t,r)=>{Promise.resolve().then(r.bind(r,2937)),Promise.resolve().then(r.bind(r,53192)),Promise.resolve().then(r.bind(r,64458))},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},87457:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(37413),a=r(56183),i=r(89960),d=r(95386);function n(){return(0,s.jsx)(a.default,{children:(0,s.jsxs)("div",{className:"py-6",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Subscription"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Manage your subscription and purchase additional video credits."})]}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 mt-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Current Subscription"}),(0,s.jsx)(i.default,{})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Purchase Additional Credits"}),(0,s.jsx)(d.default,{})]})]})})]})})}},89960:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/gerardo/Downloads/Copia de Bonsai 2/app/components/subscription/SubscriptionInfo.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/gerardo/Downloads/Copia de Bonsai 2/app/components/subscription/SubscriptionInfo.tsx","default")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95386:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/gerardo/Downloads/Copia de Bonsai 2/app/components/subscription/PurchaseCredits.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/gerardo/Downloads/Copia de Bonsai 2/app/components/subscription/PurchaseCredits.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[754,468,380,770],()=>r(36589));module.exports=s})();