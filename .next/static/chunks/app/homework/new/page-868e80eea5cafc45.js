(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{852:(e,t,s)=>{"use strict";s.d(t,{D:()=>n,ThemeProvider:()=>l});var r=s(5155),a=s(2115);let i=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[s,l]=(0,a.useState)("light");return(0,a.useEffect)(()=>{let e=localStorage.getItem("theme");if(e)l(e),document.documentElement.classList.toggle("dark","dark"===e);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches;l(e?"dark":"light"),document.documentElement.classList.toggle("dark",e)}},[]),(0,r.jsx)(i.Provider,{value:{theme:s,toggleTheme:()=>{let e="light"===s?"dark":"light";l(e),localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark","dark"===e)}},children:t})}function n(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},1002:(e,t,s)=>{Promise.resolve().then(s.bind(s,1128)),Promise.resolve().then(s.bind(s,7443))},1128:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var r=s(5155),a=s(2115),i=s(5695),l=s(2177),n=s(5594),d=s(221),c=s(3536);let o=n.z.object({title:n.z.string().min(3,"Title must be at least 3 characters"),description:n.z.string().min(10,"Description must be at least 10 characters"),examType:n.z.enum(["SAT","ACT","GRE","GMAT","Other"]),subject:n.z.string().min(2,"Subject must be at least 2 characters"),questions:n.z.array(n.z.object({type:n.z.enum(["multiple_choice","short_answer","essay"]),question:n.z.string().min(3,"Question must be at least 3 characters"),options:n.z.array(n.z.string()).optional(),answer:n.z.string().min(1,"Answer is required")})).min(1,"At least one question is required"),attachments:n.z.array(n.z.any()).optional()});function m(){let e=(0,i.useRouter)(),[t,s]=(0,a.useState)(!1),[n,m]=(0,a.useState)(null),[x,h]=(0,a.useState)([]),{register:u,handleSubmit:p,control:g,watch:f,formState:{errors:y}}=(0,l.mN)({resolver:(0,d.u)(o),defaultValues:{title:"",description:"",examType:"SAT",subject:"",questions:[{type:"multiple_choice",question:"",options:["","","",""],answer:""}],attachments:[]}}),{fields:b,append:j,remove:v}=(0,l.jz)({control:g,name:"questions"}),k=f("questions"),N=e=>{h(t=>t.filter((t,s)=>s!==e))},w=async t=>{s(!0),m(null);try{let s=[];if(x.length>0)for(let e of x){let t="".concat(Date.now(),"-").concat(e.name),{data:r,error:a}=await c.N.storage.from("homework-attachments").upload(t,e);if(a)throw Error("Error uploading file: ".concat(a.message));let{data:i}=c.N.storage.from("homework-attachments").getPublicUrl(t);s.push(i.publicUrl)}let{data:{user:r}}=await c.N.auth.getUser();if(!r)throw Error("User not authenticated");let{error:a}=await c.N.from("homework_submissions").insert({user_id:r.id,title:t.title,description:t.description,exam_type:t.examType,subject:t.subject,content:{questions:t.questions},attachments:s,submitted_at:new Date().toISOString(),status:"submitted"});if(a)throw a;e.push("/homework"),e.refresh()}catch(e){m(e.message||"An error occurred while submitting homework")}finally{s(!1)}};return(0,r.jsxs)("form",{onSubmit:p(w),className:"space-y-8",children:[n&&(0,r.jsx)("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-800 dark:text-red-200 p-4 rounded-md",children:n}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("input",{id:"title",type:"text",className:"input-field",disabled:t,...u("title")}),y.title&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.title.message})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"examType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Exam Type"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsxs)("select",{id:"examType",className:"input-field",disabled:t,...u("examType"),children:[(0,r.jsx)("option",{value:"SAT",children:"SAT"}),(0,r.jsx)("option",{value:"ACT",children:"ACT"}),(0,r.jsx)("option",{value:"GRE",children:"GRE"}),(0,r.jsx)("option",{value:"GMAT",children:"GMAT"}),(0,r.jsx)("option",{value:"Other",children:"Other"})]}),y.examType&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.examType.message})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Subject"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("input",{id:"subject",type:"text",className:"input-field",disabled:t,placeholder:"e.g., Mathematics, Reading, Science",...u("subject")}),y.subject&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.subject.message})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("textarea",{id:"description",rows:3,className:"input-field",disabled:t,placeholder:"Briefly describe what you're working on and what you need help with",...u("description")}),y.description&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.description.message})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Questions"}),(0,r.jsx)("button",{type:"button",onClick:()=>j({type:"multiple_choice",question:"",options:["","","",""],answer:""}),className:"btn-secondary text-sm py-1",disabled:t,children:"Add Question"})]}),y.questions&&y.questions.root&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.questions.root.message}),(0,r.jsx)("div",{className:"mt-4 space-y-6",children:b.map((e,s)=>{var a,i,l,n,d,c,o,m,x,h,p;return(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h4",{className:"text-md font-medium text-gray-900 dark:text-white",children:["Question ",s+1]}),b.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>v(s),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",disabled:t,children:"Remove"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Question Type"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsxs)("select",{className:"input-field",disabled:t,...u("questions.".concat(s,".type")),children:[(0,r.jsx)("option",{value:"multiple_choice",children:"Multiple Choice"}),(0,r.jsx)("option",{value:"short_answer",children:"Short Answer"}),(0,r.jsx)("option",{value:"essay",children:"Essay"})]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Question"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("textarea",{rows:2,className:"input-field",disabled:t,...u("questions.".concat(s,".question"))}),(null===(i=y.questions)||void 0===i?void 0:null===(a=i[s])||void 0===a?void 0:a.question)&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:null===(n=y.questions[s])||void 0===n?void 0:null===(l=n.question)||void 0===l?void 0:l.message})]})]}),(null===(d=k[s])||void 0===d?void 0:d.type)==="multiple_choice"&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Options"}),(0,r.jsx)("div",{className:"mt-1 space-y-2",children:[0,1,2,3].map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("span",{className:"mr-2 text-gray-500 dark:text-gray-400",children:[String.fromCharCode(65+e),"."]}),(0,r.jsx)("input",{type:"text",className:"input-field",disabled:t,...u("questions.".concat(s,".options.").concat(e))})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Your Answer"}),(0,r.jsxs)("div",{className:"mt-1",children:[(null===(c=k[s])||void 0===c?void 0:c.type)==="multiple_choice"?(0,r.jsxs)("select",{className:"input-field",disabled:t,...u("questions.".concat(s,".answer")),children:[(0,r.jsx)("option",{value:"",children:"Select an answer"}),(0,r.jsx)("option",{value:"A",children:"A"}),(0,r.jsx)("option",{value:"B",children:"B"}),(0,r.jsx)("option",{value:"C",children:"C"}),(0,r.jsx)("option",{value:"D",children:"D"})]}):(null===(o=k[s])||void 0===o?void 0:o.type)==="short_answer"?(0,r.jsx)("input",{type:"text",className:"input-field",disabled:t,...u("questions.".concat(s,".answer"))}):(0,r.jsx)("textarea",{rows:4,className:"input-field",disabled:t,...u("questions.".concat(s,".answer"))}),(null===(x=y.questions)||void 0===x?void 0:null===(m=x[s])||void 0===m?void 0:m.answer)&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:null===(p=y.questions[s])||void 0===p?void 0:null===(h=p.answer)||void 0===h?void 0:h.message})]})]})]})]},e.id)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Attachments (Optional)"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("input",{type:"file",multiple:!0,onChange:e=>{if(e.target.files){let t=Array.from(e.target.files);h(e=>[...e,...t])}},className:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 dark:file:bg-primary-900 dark:file:text-primary-300 hover:file:bg-primary-100 dark:hover:file:bg-primary-800",disabled:t}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Upload any relevant files (images, PDFs, etc.)"})]}),x.length>0&&(0,r.jsx)("div",{className:"mt-2 space-y-2",children:x.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 p-2 rounded-md",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:[e.name," (",(e.size/1024).toFixed(1)," KB)"]}),(0,r.jsx)("button",{type:"button",onClick:()=>N(s),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",disabled:t,children:"Remove"})]},s))})]}),(0,r.jsx)("div",{className:"pt-5",children:(0,r.jsxs)("div",{className:"flex justify-end",children:[(0,r.jsx)("button",{type:"button",onClick:()=>e.back(),className:"btn-secondary mr-3",disabled:t,children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"btn-primary",disabled:t,children:t?"Submitting...":"Submit Homework"})]})})]})}},3536:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});let r=(0,s(1935).createBrowserClient)("https://tzekravlcxjpfeetbsfr.supabase.com","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR6ZWtyYXZsY3hqcGZlZXRic2ZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU1MDE1NjIsImV4cCI6MjA2MTA3NzU2Mn0.t1gqnRPUqXQpK62v0dA8Iqu7y8Lm0u_5VWBWHzdeKKY")},6674:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(5155),a=s(852),i=s(9932);function l(){let{theme:e,toggleTheme:t}=(0,a.D)();return(0,r.jsx)("button",{onClick:t,className:"relative inline-flex h-10 w-10 items-center justify-center rounded-full bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800","aria-label":"Switch to ".concat("light"===e?"dark":"light"," mode"),children:"light"===e?(0,r.jsx)(i.P.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",initial:{rotate:-45},animate:{rotate:0},transition:{duration:.3},children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):(0,r.jsxs)(i.P.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5",initial:{rotate:45},animate:{rotate:0},transition:{duration:.3},children:[(0,r.jsx)("circle",{cx:12,cy:12,r:5,strokeWidth:2}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]})})}},7443:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(5155),a=s(2115),i=s(6874),l=s.n(i),n=s(5695),d=s(3536),c=s(6674);function o(e){let{children:t}=e,s=(0,n.usePathname)(),i=(0,n.useRouter)(),[o,m]=(0,a.useState)(!1),x=[{name:"Dashboard",href:"/dashboard",icon:"\uD83D\uDCCA"},{name:"Homework",href:"/homework",icon:"\uD83D\uDCDD"},{name:"Video Lessons",href:"/video",icon:"\uD83C\uDFAC"},{name:"Progress",href:"/progress",icon:"\uD83D\uDCC8"},{name:"Subscription",href:"/subscription",icon:"\uD83D\uDCB3"}],h=async()=>{await d.N.auth.signOut(),i.push("/"),i.refresh()};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:[(0,r.jsxs)("div",{className:"fixed inset-0 flex z-40 md:hidden ".concat(o?"block":"hidden"),children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>m(!1)}),(0,r.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white dark:bg-gray-800",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,r.jsxs)("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>m(!1),children:[(0,r.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,r.jsx)("span",{className:"text-white",children:"✕"})]})}),(0,r.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between px-4",children:[(0,r.jsx)("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:"Bonsai Prep"}),(0,r.jsx)(c.default,{})]}),(0,r.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:x.map(e=>(0,r.jsxs)(l(),{href:e.href,className:"group flex items-center px-2 py-2 text-base font-medium rounded-md ".concat(s===e.href?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"),children:[(0,r.jsx)("span",{className:"mr-4 h-6 w-6 text-center",children:e.icon}),e.name]},e.name))})]}),(0,r.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 dark:border-gray-700 p-4",children:(0,r.jsx)("button",{onClick:h,className:"flex-shrink-0 group block w-full text-left",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{children:(0,r.jsx)("span",{className:"inline-block h-10 w-10 rounded-full bg-gray-100 dark:bg-gray-700 text-center leading-10",children:"\uD83D\uDC64"})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("p",{className:"text-base font-medium text-gray-700 dark:text-gray-300",children:"Sign Out"})})]})})})]}),(0,r.jsx)("div",{className:"flex-shrink-0 w-14"})]}),(0,r.jsx)("div",{className:"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0",children:(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between flex-shrink-0 px-4",children:[(0,r.jsx)("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:"Bonsai Prep"}),(0,r.jsx)(c.default,{})]}),(0,r.jsx)("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:x.map(e=>(0,r.jsxs)(l(),{href:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md ".concat(s===e.href?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"),children:[(0,r.jsx)("span",{className:"mr-3 h-6 w-6 text-center",children:e.icon}),e.name]},e.name))})]}),(0,r.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 dark:border-gray-700 p-4",children:(0,r.jsx)("button",{onClick:h,className:"flex-shrink-0 w-full group block",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{children:(0,r.jsx)("span",{className:"inline-block h-9 w-9 rounded-full bg-gray-100 dark:bg-gray-700 text-center leading-9",children:"\uD83D\uDC64"})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sign Out"})})]})})})]})}),(0,r.jsxs)("div",{className:"md:pl-64 flex flex-col flex-1",children:[(0,r.jsx)("div",{className:"sticky top-0 z-10 md:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 bg-gray-100 dark:bg-gray-900",children:(0,r.jsxs)("button",{type:"button",className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>m(!0),children:[(0,r.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,r.jsx)("span",{className:"text-2xl",children:"☰"})]})}),(0,r.jsx)("main",{className:"flex-1",children:t})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,769,932,342,441,684,358],()=>t(1002)),_N_E=e.O()}]);