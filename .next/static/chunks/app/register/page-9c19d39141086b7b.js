(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{496:(e,s,a)=>{Promise.resolve().then(a.bind(a,9597)),Promise.resolve().then(a.t.bind(a,6874,23))},3536:(e,s,a)=>{"use strict";a.d(s,{N:()=>t});let t=(0,a(1935).createBrowserClient)("https://tzekravlcxjpfeetbsfr.supabase.com","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR6ZWtyYXZsY3hqcGZlZXRic2ZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU1MDE1NjIsImV4cCI6MjA2MTA3NzU2Mn0.t1gqnRPUqXQpK62v0dA8Iqu7y8Lm0u_5VWBWHzdeKKY")},9597:(e,s,a)=>{"use strict";a.d(s,{default:()=>c});var t=a(5155),r=a(2115),i=a(5695),d=a(2177),m=a(5594),l=a(221),n=a(3536);let o=m.z.object({name:m.z.string().min(2,"Name must be at least 2 characters"),email:m.z.string().email("Please enter a valid email address"),password:m.z.string().min(8,"Password must be at least 8 characters"),confirmPassword:m.z.string()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function c(){let e=(0,i.useRouter)(),[s,a]=(0,r.useState)(!1),[m,c]=(0,r.useState)(null),{register:x,handleSubmit:p,formState:{errors:u}}=(0,d.mN)({resolver:(0,l.u)(o)}),h=async s=>{a(!0),c(null);try{var t;let{error:a}=await n.N.auth.signUp({email:s.email,password:s.password,options:{data:{name:s.name}}});if(a)throw a;let{error:r}=await n.N.from("users").insert({id:null===(t=(await n.N.auth.getUser()).data.user)||void 0===t?void 0:t.id,email:s.email,name:s.name,created_at:new Date().toISOString(),last_login:new Date().toISOString(),preferred_language:"en"});if(r)throw r;e.push("/dashboard"),e.refresh()}catch(e){c(e.message||"An error occurred during registration")}finally{a(!1)}};return(0,t.jsxs)("form",{onSubmit:p(h),className:"space-y-6",children:[m&&(0,t.jsx)("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-800 dark:text-red-200 p-3 rounded-md text-sm",children:m}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("input",{id:"name",type:"text",autoComplete:"name",className:"input-field",disabled:s,...x("name")}),u.name&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.name.message})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("input",{id:"email",type:"email",autoComplete:"email",className:"input-field",disabled:s,...x("email")}),u.email&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.email.message})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("input",{id:"password",type:"password",autoComplete:"new-password",className:"input-field",disabled:s,...x("password")}),u.password&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.password.message})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm Password"}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("input",{id:"confirmPassword",type:"password",autoComplete:"new-password",className:"input-field",disabled:s,...x("confirmPassword")}),u.confirmPassword&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.confirmPassword.message})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:s,className:"btn-primary w-full flex justify-center py-2 px-4",children:s?"Creating account...":"Create account"})}),(0,t.jsxs)("div",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:["By signing up, you agree to our"," ",(0,t.jsx)("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300",children:"Terms of Service"})," ","and"," ",(0,t.jsx)("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300",children:"Privacy Policy"})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[874,769,342,441,684,358],()=>s(496)),_N_E=e.O()}]);